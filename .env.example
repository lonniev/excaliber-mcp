# =============================================================================
# eXcalibur-mcp — Environment Configuration
# Copy to .env and fill in your values
# =============================================================================

# ---------------------------------------------------------------------------
# X (Twitter) API — OAuth 1.0a operator fallback credentials
# Per-user credentials are stored encrypted via register_credentials
# Get these from https://developer.x.com → Keys and Tokens
# ---------------------------------------------------------------------------
X_API_KEY=your_api_key_here
X_API_SECRET=your_api_secret_here
X_ACCESS_TOKEN=your_access_token_here
X_ACCESS_TOKEN_SECRET=your_access_token_secret_here

# ---------------------------------------------------------------------------
# BTCPay Server — Lightning payment processing
# ---------------------------------------------------------------------------
BTCPAY_HOST=https://your-btcpay-server.example.com
BTCPAY_STORE_ID=your_store_id_here
BTCPAY_API_KEY=your_api_key_here

# ---------------------------------------------------------------------------
# Tollbooth Authority — Nostr Schnorr certificate verification
# The Authority's npub (bech32) for verifying signed purchase certificates
# (kind 30079). Required for purchase_credits to work.
# Get this from your Authority's operator_status tool.
# ---------------------------------------------------------------------------
DPYC_AUTHORITY_NPUB=npub1your_authority_npub_here

# ---------------------------------------------------------------------------
# Neon Serverless Postgres — ledger persistence
# Required — all paid tools are blocked without a configured commerce vault.
# ---------------------------------------------------------------------------
NEON_DATABASE_URL=postgresql://user:password@host/dbname?sslmode=require

# ---------------------------------------------------------------------------
# Credit configuration
# ---------------------------------------------------------------------------
SEED_BALANCE_SATS=100
CREDIT_TTL_SECONDS=604800

# ---------------------------------------------------------------------------
# Royalty — payout to Tollbooth originator on invoice settlement
# ---------------------------------------------------------------------------
TOLLBOOTH_ROYALTY_ADDRESS=your_lightning_address@example.com
TOLLBOOTH_ROYALTY_PERCENT=0.02
TOLLBOOTH_ROYALTY_MIN_SATS=10

# ---------------------------------------------------------------------------
# DPYC Identity
# ---------------------------------------------------------------------------
DPYC_OPERATOR_NPUB=npub1your_npub_here

# ---------------------------------------------------------------------------
# Credential vault directory (default: ~/.excalibur/vault)
# ---------------------------------------------------------------------------
# EXCALIBUR_VAULT_DIR=

# ---------------------------------------------------------------------------
# Optional tier configuration (JSON strings)
# ---------------------------------------------------------------------------
# BTCPAY_TIER_CONFIG={"default": {"multiplier": 1}}
# BTCPAY_USER_TIERS={}
